<div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-8">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex gap-6">
    <aside class="w-48">
      <%= render 'sidebar' %>
    </aside>
    <div class="flex-1">
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-8">Hosted Bookings</h1>

        <% if @bookings.any? %>
          <div class="space-y-4">
            <% @bookings.each do |booking| %>
              <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-6 hover:shadow-md transition-shadow">
                <div class="flex justify-between items-start">
                  <div class="flex-1">
                    <div class="flex items-center gap-3 mb-2">
                      <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
                        <%= link_to booking.offering.title, booking_path(booking), class: "hover:text-blue-600" %>
                      </h3>
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium <%= status_badge_class(booking.status) %>">
                        <%= booking.status.titleize %>
                      </span>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-300">
                      <div>
                        <span class="font-medium">Date:</span>
                        <%= booking.requested_date.strftime("%B %d, %Y") %>
                      </div>
                      <div>
                        <span class="font-medium">Guests:</span>
                        <%= booking.guests %>
                      </div>
                      <div>
                        <span class="font-medium">Total:</span>
                        $<%= booking.total_amount %>
                      </div>
                    </div>

                    <div class="mt-2 text-sm text-gray-600 dark:text-gray-300">
                      <span class="font-medium">Traveler:</span>
                      <%= booking.user.display_name %>
                    </div>

                    <% if booking.message.present? %>
                      <div class="mt-2 text-sm text-gray-600 dark:text-gray-300">
                        <span class="font-medium">Message:</span>
                        <%= booking.message %>
                      </div>
                    <% end %>
                  </div>

                  <div class="flex gap-2 ml-4">
                    <%= link_to "View", booking_path(booking), class: "px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 dark:bg-gray-900" %>
                    <% if booking.can_be_accepted? %>
                      <%= button_to "Accept", accept_booking_path(booking), method: :patch,
                          class: "px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700" %>
                      <%= button_to "Decline", decline_booking_path(booking), method: :patch,
                          data: { confirm: "Are you sure you want to decline this booking?" },
                          class: "px-3 py-1 text-sm border border-red-300 text-red-600 rounded-md hover:bg-red-50" %>
                    <% end %>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
        <% else %>
          <div class="text-center py-12">
            <p class="text-gray-500 dark:text-gray-400 text-lg">You haven't hosted anyone yet. Your hosted bookings will show up here.</p>
            <%= link_to "Create an Offering", new_offering_path, class: "mt-4 inline-block bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
