<div class="min-h-screen bg-gray-50 dark:bg-gray-900 py-8">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex gap-6">
    <aside class="w-48">
      <%= render 'sidebar' %>
    </aside>
    <div class="flex-1">
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-8">My Bookings</h1>

        <% if @bookings.any? %>
          <div class="space-y-6">
            <% @bookings.each do |booking| %>
              <%= render 'shared/card', classes: 'hover:shadow-lg transition-shadow' do %>
                <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4">
                  <div class="flex-1 space-y-3">
                    <div class="flex items-center gap-3">
                      <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">
                        <%= link_to booking.offering.title, booking_path(booking), class: "hover:text-blue-600" %>
                      </h3>
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium <%= status_badge_class(booking.status) %>"><%= booking.status.titleize %></span>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-600 dark:text-gray-300">
                      <div class="flex items-center gap-1">
                        <svg class="h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2h-3V3h-4v2H7a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                        <span class="font-medium">Date:</span>
                        <%= booking.requested_date.strftime("%B %d, %Y") %>
                      </div>
                      <div class="flex items-center gap-1">
                        <svg class="h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a4 4 0 00-5-4M9 20H4v-2a4 4 0 015-4m13 0a4 4 0 00-8 0 4 4 0 008 0zm-8 0a4 4 0 01-8 0 4 4 0 018 0z" /></svg>
                        <span class="font-medium">Guests:</span>
                        <%= booking.guests %>
                      </div>
                      <div class="flex items-center gap-1">
                        <svg class="h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.07.402 2.598 1M12 8V6m0 14v-2m0-4v-2m0 0V8m0 4h.01" /></svg>
                        <span class="font-medium">Total:</span>
                        $<%= booking.total_amount %>
                      </div>
                      <div class="flex items-center gap-1">
                        <svg class="h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 11c1.657 0 3-1.343 3-3S13.657 5 12 5 9 6.343 9 8s1.343 3 3 3z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5a8.959 8.959 0 01-7.5 4.5c-3.18 0-6.002-1.663-7.5-4.5" /></svg>
                        <span class="font-medium">Location:</span>
                        <%= booking.offering.location.titleize %>
                      </div>
                      <div class="flex items-center gap-1 sm:col-span-2">
                        <svg class="h-4 w-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                        <span class="font-medium">Host:</span>
                        <%= booking.offering.user.display_name %>
                      </div>
                    </div>
                  </div>

                  <div class="flex gap-2 sm:flex-col sm:items-end">
                    <%= link_to "View", booking_path(booking), class: "px-4 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700" %>
                    <% if booking.can_be_cancelled? %>
                      <%= button_to "Cancel", cancel_booking_path(booking), method: :patch,
                          data: { confirm: "Are you sure you want to cancel this booking?" },
                          class: "px-4 py-2 text-sm border border-red-300 text-red-600 rounded-md hover:bg-red-50" %>
                    <% end %>
                  </div>
                </div>
              <% end %>
            <% end %>
          </div>
        <% else %>
          <div class="text-center py-12">
            <p class="text-gray-500 dark:text-gray-400 text-lg">You haven't made any bookings yet.</p>
            <%= link_to "Browse Offerings", offerings_path, class: "mt-4 inline-block bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
